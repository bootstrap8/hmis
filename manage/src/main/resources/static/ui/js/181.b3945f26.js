"use strict";(self["webpackChunkstatic"]=self["webpackChunkstatic"]||[]).push([[181],{1181:function(e,a,l){l.r(a),l.d(a,{default:function(){return d}});l(7658);var t=l(3396),p=l(1685),o=l(4870),r=l(4834),n=l(3824);const i={class:"appList"},u={class:"dialog-footer"};var m=(0,t.aZ)({__name:"AppList",setup(e){(0,o.iH)(!1);const a=(0,o.iH)(!1),l="140px",m=(0,o.qj)({app_name:"",permits:5e4}),s=(0,o.qj)({appSelect:"name",appKey:"",page:{pageNum:1,pageSize:10,total:0}}),d=(0,o.qj)({appSelectMeta:[{value:"name",label:"应用名称"},{value:"desc",label:"应用描述"}],appList:[]}),c=()=>{(0,p.Z)({url:"/hmis/manage/agent/kafkaIn/queryAppList/v1.0",method:"post",params:s.page,data:{appSelect:s.appSelect,appKey:s.appKey}}).then((e=>{1==e.data.code&&(d.appList=e.data.body.list)})).catch((e=>{(0,r.WI)("请求异常","error")}))},g=e=>{n.Z.push({path:"/agent/kafkaIn/instanceList",query:e.row})},f=e=>{a.value=!0,m.permits=e.row.permits,m.app_name=e.row.name},w=()=>{a.value=!1,(0,p.Z)({url:"/hmis/manage/agent/kafkaIn/saveAppPermits/v1.0",method:"post",data:{app_name:m.app_name,permits:m.permits}}).then((e=>{1==e.data.code&&((0,r.WI)("保存成功","success"),c())})).catch((e=>{console.error(e),(0,r.WI)("请求异常","error")}))};return(0,t.bv)((()=>c())),(e,p)=>{const o=(0,t.up)("el-option"),r=(0,t.up)("el-select"),n=(0,t.up)("el-form-item"),h=(0,t.up)("el-input"),k=(0,t.up)("el-button"),b=(0,t.up)("el-form"),v=(0,t.up)("el-table-column"),W=(0,t.up)("el-table"),_=(0,t.up)("el-pagination"),y=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",i,[(0,t.Wm)(b,{inline:!0,class:"demo-form-inline"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{label:"查询类型",prop:"appSelect"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{modelValue:s.appSelect,"onUpdate:modelValue":p[0]||(p[0]=e=>s.appSelect=e),class:"m-2",placeholder:"请选择",size:"large"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(d.appSelectMeta,(e=>((0,t.wg)(),(0,t.j4)(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(n,{label:"应用关键字",prop:"appKey"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:s.appKey,"onUpdate:modelValue":p[1]||(p[1]=e=>s.appKey=e),placeholder:"请输入关键字..."},null,8,["modelValue"])])),_:1}),(0,t.Wm)(n,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,{type:"primary",onClick:c},{default:(0,t.w5)((()=>[(0,t.Uk)("查询")])),_:1})])),_:1})])),_:1}),(0,t.Wm)(W,{data:d.appList,style:{width:"100%"},border:!0,"table-layout":"fixed",stripe:!0,size:"small","highlight-current-row":!0},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{fixed:"left",label:"操作",width:"120","header-align":"center",align:"center"},{default:(0,t.w5)((e=>[(0,t.Wm)(k,{link:"",type:"primary",size:"small",onClick:a=>g(e)},{default:(0,t.w5)((()=>[(0,t.Uk)("实例")])),_:2},1032,["onClick"]),(0,t.Wm)(k,{link:"",type:"primary",size:"small",onClick:a=>f(e)},{default:(0,t.w5)((()=>[(0,t.Uk)("速率")])),_:2},1032,["onClick"])])),_:1}),(0,t.Wm)(v,{prop:"name",label:"应用名","show-overflow-tooltip":!0,"header-align":"center"}),(0,t.Wm)(v,{prop:"desc",label:"应用描述","show-overflow-tooltip":!0,"header-align":"center"}),(0,t.Wm)(v,{prop:"tags",label:"应用标签","show-overflow-tooltip":!0,"header-align":"center"}),(0,t.Wm)(v,{prop:"fmtRegTime",label:"注册时间","show-overflow-tooltip":!0,"header-align":"center"}),(0,t.Wm)(v,{prop:"instanceSize",label:"实例数量","show-overflow-tooltip":!0,"header-align":"center"}),(0,t.Wm)(v,{prop:"permits",label:"速率(条/秒)","show-overflow-tooltip":!0,"header-align":"center"})])),_:1},8,["data"]),(0,t.Wm)(_,{class:"page","page-size":s.page.pageSize,"onUpdate:page-size":p[2]||(p[2]=e=>s.page.pageSize=e),"current-page":s.page.pageNum,"onUpdate:current-page":p[3]||(p[3]=e=>s.page.pageNum=e),layout:"->, total, sizes, prev, pager, next, jumper",total:s.page.total,"onUpdate:total":p[4]||(p[4]=e=>s.page.total=e),onSizeChange:c,onCurrentChange:c,onPrevClick:c,onNextClick:c,small:!0,background:!0,"page-sizes":[5,10,20,50,100]},null,8,["page-size","current-page","total"])]),(0,t.Wm)(y,{modelValue:a.value,"onUpdate:modelValue":p[7]||(p[7]=e=>a.value=e),title:"配置应用kafka入口速率"},{footer:(0,t.w5)((()=>[(0,t._)("span",u,[(0,t.Wm)(k,{onClick:p[6]||(p[6]=e=>a.value=!1)},{default:(0,t.w5)((()=>[(0,t.Uk)("取消")])),_:1}),(0,t.Wm)(k,{type:"primary",onClick:w},{default:(0,t.w5)((()=>[(0,t.Uk)(" 确认 ")])),_:1})])])),default:(0,t.w5)((()=>[(0,t.Wm)(b,{model:m},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{label:"速率(条/秒)：","label-width":l},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:m.permits,"onUpdate:modelValue":p[5]||(p[5]=e=>m.permits=e),autocomplete:"off",type:"number"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])],64)}}});const s=m;var d=s}}]);
//# sourceMappingURL=181.b3945f26.js.map