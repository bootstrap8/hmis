"use strict";(self["webpackChunkstatic"]=self["webpackChunkstatic"]||[]).push([[98],{89:function(e,t){t.Z=(e,t)=>{const o=e.__vccOpts||e;for(const[l,a]of t)o[l]=a;return o}},2098:function(e,t,o){o.r(t),o.d(t,{default:function(){return h}});var l=o(3396);const a={class:"route"};function r(e,t,o,r,u,n){const i=(0,l.up)("el-option"),s=(0,l.up)("el-select"),c=(0,l.up)("el-form-item"),d=(0,l.up)("el-input"),p=(0,l.up)("el-button"),m=(0,l.up)("el-form"),h=(0,l.up)("el-popconfirm"),f=(0,l.up)("el-table-column"),g=(0,l.up)("el-table"),w=(0,l.up)("el-pagination");return(0,l.wg)(),(0,l.iD)("div",a,[(0,l.Wm)(m,{inline:!0,class:"demo-form-inline"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{label:"路由选项",prop:"routeSelect"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{modelValue:r.fq.routeSelect,"onUpdate:modelValue":t[0]||(t[0]=e=>r.fq.routeSelect=e),class:"m-2",placeholder:"请选择",size:"large",onChange:n.showSelect},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.data.routeMetaSelects,(e=>((0,l.wg)(),(0,l.j4)(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1}),(0,l.Wm)(c,{label:"路由关键字",prop:"routeKey"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{modelValue:r.fq.routeKey,"onUpdate:modelValue":t[1]||(t[1]=e=>r.fq.routeKey=e),placeholder:"请输入关键字..."},null,8,["modelValue"])])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{type:"primary",onClick:n.queryRoutes},{default:(0,l.w5)((()=>[(0,l.Uk)("查询")])),_:1},8,["onClick"]),(0,l.Wm)(p,{type:"warning",onClick:n.refreshRoute},{default:(0,l.w5)((()=>[(0,l.Uk)("刷新路由")])),_:1},8,["onClick"]),(0,l.Wm)(p,{type:"primary",icon:u.Edit,circle:"",onClick:n.addRoute,title:"添加路由"},null,8,["icon","onClick"])])),_:1})])),_:1}),(0,l.Wm)(g,{data:r.data.routeData,style:{width:"100%"},border:!0,"table-layout":"fixed",stripe:!0,size:"small","highlight-current-row":!0},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{fixed:"left",label:"操作",width:"120","header-align":"center"},{default:(0,l.w5)((e=>[(0,l.Wm)(p,{link:"",type:"primary",size:"small",onClick:t=>n.editRoute(e)},{default:(0,l.w5)((()=>[(0,l.Uk)("编辑")])),_:2},1032,["onClick"]),(0,l.Wm)(h,{title:"你确定要删除本条路由吗?",onConfirm:t=>n.delConfirm(e)},{reference:(0,l.w5)((()=>[(0,l.Wm)(p,{link:"",type:"danger",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("删除")])),_:1})])),_:2},1032,["onConfirm"])])),_:1}),(0,l.Wm)(f,{prop:"id",label:"路标标识","show-overflow-tooltip":!0,"header-align":"center"}),(0,l.Wm)(f,{prop:"uri",label:"uri","show-overflow-tooltip":!0,"header-align":"center"}),(0,l.Wm)(f,{prop:"predicates",label:"路由谓语","show-overflow-tooltip":!0,"header-align":"center"}),(0,l.Wm)(f,{prop:"filters",label:"路由过滤器","show-overflow-tooltip":!0,"header-align":"center"})])),_:1},8,["data"]),(0,l.Wm)(w,{class:"page","page-size":r.fq.pageSize,"onUpdate:page-size":t[2]||(t[2]=e=>r.fq.pageSize=e),"current-page":r.fq.pageNum,"onUpdate:current-page":t[3]||(t[3]=e=>r.fq.pageNum=e),layout:"->, total, sizes, prev, pager, next, jumper",total:r.fq.total,"onUpdate:total":t[4]||(t[4]=e=>r.fq.total=e),onSizeChange:n.queryRoutes,onCurrentChange:n.queryRoutes,onPrevClick:n.queryRoutes,onNextClick:n.queryRoutes,small:!0,background:!0,"page-sizes":[5,10,20,50,100]},null,8,["page-size","current-page","total","onSizeChange","onCurrentChange","onPrevClick","onNextClick"])])}o(7658);var u=o(1685),n=o(4870),i=o(2748),s=o(4834),c=o(3824),d={name:"Route",data(){return{Edit:i.I8b}},setup(){const e=(0,n.qj)({routeSelect:"route_id",routeKey:"",pageNum:1,pageSize:10,total:0}),t=(0,n.qj)({routeMetaSelects:[],routeData:[]});return{fq:e,data:t}},methods:{getRoutMetaSelects(){(0,u.Z)({url:"/hmis/manage/route/queryRouteOptions/v1.0"}).then((e=>{console.log("请求到路由类型配置: {}",e),1==e.data.code&&(this.data.routeMetaSelects=e.data.body)})).catch((e=>{console.error(e)}))},showSelect(){console.log("选择的下拉列值: ",this.routeSelect)},queryRoutes(){console.log("查询路由列表"),(0,u.Z)({url:"/hmis/manage/route/queryAllRouteConfig/v1.0",params:this.fq}).then((e=>{1==e.data.code&&(this.fq.total=e.data.body.total,this.data.routeData=e.data.body.list)})).catch((e=>{console.error(e)}))},delConfirm(e){this.delRoute(e)},delRoute(e){const t=e.row.id;console.log("删除选中的元素: ",t),(0,u.Z)({url:"/hmis/manage/route/deleteRouteConfig/v1.0",method:"post",params:{id:t}}).then((e=>{1==e.data.code&&((0,s.Jy)("操作结果","操作成功","success"),this.queryRoutes())})).catch((e=>{alert("删除失败")}))},editRoute(e){console.log("编辑选中的元素: ",e.row),c.Z.push({path:"/route/info",query:e.row})},refreshRoute(){(0,u.Z)({url:"/hmis/manage/route/refresh/v1.0",method:"post"}).then((e=>{1==e.data.code&&(0,s.Jy)("操作结果","操作成功","success")})).catch((e=>{alert("刷新失败")}))},addRoute(){this.$router.push("/route/info")}},created(){console.log("加载完Route.vue视图"),this.getRoutMetaSelects(),this.queryRoutes()}},p=o(89);const m=(0,p.Z)(d,[["render",r]]);var h=m}}]);
//# sourceMappingURL=98.fd50567d.js.map