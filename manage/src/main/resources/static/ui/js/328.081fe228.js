"use strict";(self["webpackChunkstatic"]=self["webpackChunkstatic"]||[]).push([[328],{8328:function(e,a,t){t.r(a),t.d(a,{default:function(){return d}});var l=t(3396),o=t(1685),r=t(4870),p=t(4834),n=t(3824);const i={class:"appList"},s={class:"dialog-footer"};var m=(0,l.aZ)({__name:"InstanceList",setup(e){(0,r.iH)(!1);const a=(0,r.iH)(!1),t="140px",m=(0,r.qj)({data_center:"",app_name:"",ip:"",port:8080,permits:5e4}),u=(0,r.qj)({page:{pageNum:1,pageSize:10,total:0}}),d=(0,r.qj)({instanceList:[]}),c=n.Z.currentRoute.value.query,g=()=>{(0,o.Z)({url:"/hmis/manage/agent/kafkaIn/queryInstanceList/v1.0",method:"post",params:u.page,data:{appName:c.name}}).then((e=>{1==e.data.code&&(d.instanceList=e.data.body.list)})).catch((e=>{(0,p.WI)("请求异常","error")}))},h=e=>{a.value=!0,m.data_center=e.row.dataCenter,m.app_name=e.row.appName,m.ip=e.row.ip,m.port=e.row.port,m.permits=e.row.permits},w=()=>{a.value=!1,(0,o.Z)({url:"/hmis/manage/agent/kafkaIn/saveInstancePermits/v1.0",method:"post",data:m}).then((e=>{1==e.data.code&&((0,p.WI)("保存成功","success"),g())})).catch((e=>{console.error(e),(0,p.WI)("请求异常","error")}))};return(0,l.bv)((()=>g())),(e,o)=>{const r=(0,l.up)("el-button"),p=(0,l.up)("el-table-column"),n=(0,l.up)("el-table"),c=(0,l.up)("el-pagination"),f=(0,l.up)("el-input"),v=(0,l.up)("el-form-item"),b=(0,l.up)("el-form"),W=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",i,[(0,l.Wm)(n,{data:d.instanceList,style:{width:"100%"},border:!0,"table-layout":"fixed",stripe:!0,size:"small","highlight-current-row":!0},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{fixed:"left",label:"操作",width:"120","header-align":"center",align:"center"},{default:(0,l.w5)((e=>[(0,l.Wm)(r,{link:"",type:"primary",size:"small",onClick:a=>h(e)},{default:(0,l.w5)((()=>[(0,l.Uk)("速率")])),_:2},1032,["onClick"])])),_:1}),(0,l.Wm)(p,{prop:"appName",label:"应用名称","show-overflow-tooltip":!0,"header-align":"center"}),(0,l.Wm)(p,{prop:"dataCenter",label:"数据中心","show-overflow-tooltip":!0,"header-align":"center"}),(0,l.Wm)(p,{prop:"ip",label:"ip地址","show-overflow-tooltip":!0,"header-align":"center"}),(0,l.Wm)(p,{prop:"hostName",label:"主机名","show-overflow-tooltip":!0,"header-align":"center"}),(0,l.Wm)(p,{prop:"port",label:"端口","show-overflow-tooltip":!0,"header-align":"center"}),(0,l.Wm)(p,{prop:"processNo",label:"进程号","show-overflow-tooltip":!0,"header-align":"center"}),(0,l.Wm)(p,{prop:"tags",label:"标签","show-overflow-tooltip":!0,"header-align":"center"}),(0,l.Wm)(p,{prop:"fmtRegTime",label:"注册时间","show-overflow-tooltip":!0,"header-align":"center"}),(0,l.Wm)(p,{prop:"permits",label:"速率","show-overflow-tooltip":!0,"header-align":"center"})])),_:1},8,["data"]),(0,l.Wm)(c,{class:"page","page-size":u.page.pageSize,"onUpdate:page-size":o[0]||(o[0]=e=>u.page.pageSize=e),"current-page":u.page.pageNum,"onUpdate:current-page":o[1]||(o[1]=e=>u.page.pageNum=e),layout:"->, total, sizes, prev, pager, next, jumper",total:u.page.total,"onUpdate:total":o[2]||(o[2]=e=>u.page.total=e),onSizeChange:g,onCurrentChange:g,onPrevClick:g,onNextClick:g,small:!0,background:!0,"page-sizes":[5,10,20,50,100]},null,8,["page-size","current-page","total"])]),(0,l.Wm)(W,{modelValue:a.value,"onUpdate:modelValue":o[5]||(o[5]=e=>a.value=e),title:"配置实例kafka入口速率"},{footer:(0,l.w5)((()=>[(0,l._)("span",s,[(0,l.Wm)(r,{onClick:o[4]||(o[4]=e=>a.value=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)("取消")])),_:1}),(0,l.Wm)(r,{type:"primary",onClick:w},{default:(0,l.w5)((()=>[(0,l.Uk)(" 确认 ")])),_:1})])])),default:(0,l.w5)((()=>[(0,l.Wm)(b,{model:m},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{label:"速率(条/秒)：","label-width":t},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{modelValue:m.permits,"onUpdate:modelValue":o[3]||(o[3]=e=>m.permits=e),autocomplete:"off",type:"number"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])],64)}}});const u=m;var d=u}}]);
//# sourceMappingURL=328.081fe228.js.map